<!DOCTYPE html>
<html class="post">
  <head itemtype="http://schema.org/Blog" itemscope>
    <title>Linked List style posts in Wordpress</title>

    <meta charset="utf-8">
    <meta name="description" content="I'm a twenty-something designer and developer travelling the world. I work with the best people in a company called Lookback, where I help interfaces come to life.">
    <meta name="keywords" content="Custom fields,Functions.php,RSS">
    <meta name="author" content="Johan Brook">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="Johan's RSS feed" href="/rss.xml">

    <link href='https://fonts.googleapis.com/css?family=Lato:400,400italic,700,700italic,300,300italic|PT+Serif:400,700,400italic,700italic|Trocchi' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="/assets/stylesheets/johan.css">

    <link rel="shortcut icon" href="/favicon.png" type="image/png">
    <link rel="canonical" itemprop="url" href="https://www.johanbrook.com/writings/linked-list-style-posts-in-wordpress/">
    <link rel="author" href="https://johanbrook.com/about">

    <meta property="og:title" content="Linked List style posts in Wordpress">
    <meta property="og:url" content="https://www.johanbrook.com/writings/linked-list-style-posts-in-wordpress/">
    <meta property="og:site_name" itemprop="name" content="Johan Brook">
    <meta property="og:type" content="article">
    <meta property="og:image" content="https://johanbrook.com/assets/images/og-image.png">
    <meta property="og:image:width" content="940">
    <meta property="og:image:height" content="580">

    <meta property="og:description" content="Quite a few people use this style of quick links or short posts (myself included). Daring Fireball, Shawn Blanc and others. When linking to an article of site, the post heading itself becomes the link. It's quite good usability and UX, and is not that hard to re-create in Wordpress.">

    <meta property="article:author" content="http://facebook.com/johanbrook">
    <meta property="article:tag" content="Custom fields,Functions.php,RSS">
    <meta property="article:published_time" content="2010-10-27T16:31:00.000Z">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-4471592-8', 'auto');
      ga('send', 'pageview');

    </script>
  </head>

  <body>

    <nav role="navigation">
      <ul class="navigation__primary">
        <li class=""><a href="/">Home</a></li>
        <li class="" ><a href="/now">Now</a></li>
        <li class=""><a href="/writings">Writings</a></li>
        <li class="" ><a href="/about">About me</a></li>
      </ul>

      <ul class="navigation__secondary">
        <li><a href="http://twitter.com/johanbrook">@johanbrook</a></li>
        <li><a title="Oh, you don't have your personal API yet?" href="/meta.json">API</a></li>
      </ul>
    </nav>

    <main role="main">
  <article role="article" class="" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        <h1 itemprop="name">Linked List style posts in Wordpress</h1>

      <p class="post__meta">
        <time datetime="2010-10-27T16:31:00.000Z" itemprop="datePublished" title="6 years ago" pubdate>October 27, 2010</time>
          <span class="meta__stats">2 min / <span itemprop="wordCount">392</span> words</span>
      </p>
    </header>

    <div class="post-text" itemprop="articleBody">
      <p><strong>Quite a few people</strong> use this style of quick links or short posts (myself included). Daring Fireball, Shawn Blanc and others. When linking to an article of site, the post heading itself becomes the link. It&#39;s quite good usability and UX, and is not that hard to <nobr>re-create</nobr> in Wordpress.</p>
<p>When I attach links to my custom post type for short posts, Quickies, I use custom fields in Wordpress. I&#39;ve got two fields for link: &quot;Link&quot; and &quot;Link Name&quot;. The &quot;Link&quot; field contains the <abbr>URL</abbr> and is the important one here. In the post template (in my case <code>single-quickie.php</code> you can get the custom field with this:</p>
<pre><code>$meta_link = get_post_meta(get_the_ID(), &quot;Link&quot;, true);
</code></pre><p>Where &quot;Link&quot; is the custom field name. After that, it&#39;s just a matter of inserting it in the post&#39;s heading tag:</p>
<pre><code>&lt;h1&gt;
   &lt;?php if($meta_link):?&gt;
      &lt;a title=&quot;follow link&quot; href=&quot;&lt;?php echo $meta_link;?&gt;&quot;&gt; &lt;?php the_title();?&gt; ›&lt;/a&gt;
   &lt;?php else: ?&gt;
      &lt;?php the_title();?&gt;
   &lt;?php endif;?&gt;
&lt;/h1&gt;
</code></pre><p>There we go. If there&#39;s a link attached to the post, create an <code>&lt;a&gt;</code> element for it inside the heading. But how do we work this out for <abbr>RSS</abbr> readers? Many people (myself included again) usually read posts directly from within the reader, and Wordpress automatically makes the <abbr>RSS</abbr> heading link point to the post&#39;s permalink – not our custom link. Check it out next time you&#39;re reading a Daring Fireball linked post: when you click on the main heading you&#39;re instantly taken to the link he&#39;s talking about. How to create this in Wordpress? I first tried to hack the <abbr>RSS</abbr> file, <code>feed-rss2.php</code> but that&#39;s seldom a good thing. You should leave the core files alone. Instead, you can filter the template tag for outputting the <abbr>RSS</abbr> heading in your <code>functions.php</code> :</p>
<pre><code>function johan_permalink_rss($content) { 
   global $wp_query; 
   $postid = $wp_query-&gt;post-&gt;ID; 
   $link = get_post_meta($postid, &#39;Link&#39;, true); 

   if(is_feed()) { 
      if($link !== &#39;&#39;) { 
         $content = $link; 
      } else { 
         $content = get_permalink($postid); 
      } 
   } 

   return $content; 
} 

add_filter(&#39;the_permalink_rss&#39;, &#39;johan_permalink_rss&#39;);
</code></pre><p>As you can see it creates a function with the original content in the parameter. It finds the current post&#39;s id and the attached link. If it&#39;s a feed and if it&#39;s a link attached, go ahead and make the <abbr>RSS</abbr> permalink ( <code>$content</code> ) the value of the custom link. Return the value and add a filter for the <code>the_permalink_rss</code> used in Wordpress&#39; <abbr>RSS</abbr> parsing file.</p>
<p> Not that hard, right?</p>

    </div>
  </article>
</main>

<footer role="contentinfo">
  <h2>Hi friend.</h2>

  <p>I'm Johan – a twenty-something developer and designer, currently traveling the world.</p>

  <p>I like building interfaces for humans, authentic experiences, and playing guitar. I like other things too.</p>

  <p>You'll find more posts under <a href="/writings">writings</a>, and you can also read <a href="/about">more about me</a> and <a href="/now">what I'm doing now</a>.</p>
</footer>


    <script type="text/javascript">
      function init() {
        addClasses();

        function first(array, n, guard) {
          if (array == null) return void 0;
          if (n == null || guard) return array[0];

          return [].slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
        };

        function transform(text) {
          const DELIMITER = /\.|,/;
          const sentences = text.split('.');
          const index = text.search(DELIMITER);
          const MAX_WORDS = 6;

          function wrap(w, t) {
            return `<strong>${w}</strong> ${t}`;
          }

          if (index > -1 && index <= 50) {
            return wrap(text.split(DELIMITER)[0], text.substring(index));
          }

          const words = text.split(' ');
          const first = words.splice(0, MAX_WORDS);

          return wrap(first.join(' '), words.join(' '));
        };

        const paragraphs = document.querySelectorAll('.posts article .post-text p');

        [].slice.call(paragraphs).forEach(function(p) {
          if (p.firstChild && (!p.firstChild.tagName || p.firstChild.tagName !== 'STRONG')) {
            const newContent = transform(p.innerText);
            p.innerHTML = newContent;
          }
        });
      };

      function addClasses() {
        const p = document.querySelectorAll('.post article .post-text p');
        p.length > 0 && p[0].classList.add('ingress');

      };

      document.addEventListener('DOMContentLoaded', init, false);
    </script>
  </body>

</html>
