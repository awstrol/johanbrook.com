<!DOCTYPE html>
<html class="post">
  <head itemtype="http://schema.org/Blog" itemscope>
    <title>A fix for antialiasing issues in WebKit browsers</title>

    <meta charset="utf-8">
    <meta name="description" content="I'm a twenty-something designer and developer travelling the world. I work with the best people in a company called Lookback, where I help interfaces come to life.">
    <meta name="keywords" content="3D,Antialiasing,CSS,Jagged,Text,WebKit Transform">
    <meta name="author" content="Johan Brook">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- RSS -->
    <link rel="alternate" type="application/rss+xml" title="Johan's RSS feed" href="/rss.xml">

    <link href='https://fonts.googleapis.com/css?family=Lato:400,400italic,700,700italic,300,300italic|PT+Serif:400,700,400italic,700italic|Trocchi' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="/assets/stylesheets/johan.css">

    <link rel="shortcut icon" href="/favicon.png" type="image/png">
    <link rel="canonical" itemprop="url" href="https://www.johanbrook.com/writings/a-fix-for-antialiasing-issues-in-webkit-browsers/">
    <link rel="author" href="https://johanbrook.com/about">

    <meta property="og:title" content="A fix for antialiasing issues in WebKit browsers">
    <meta property="og:url" content="https://www.johanbrook.com/writings/a-fix-for-antialiasing-issues-in-webkit-browsers/">
    <meta property="og:site_name" itemprop="name" content="Johan Brook">
    <meta property="og:type" content="article">
    <meta property="og:image" content="https://johanbrook.com/assets/images/og-image.png">
    <meta property="og:image:width" content="940">
    <meta property="og:image:height" content="580">

    <meta property="og:description" content="CSS Transforms, Transitions and Animations are great and all, but apparently they are causing issues with some text on a page. I've experienced those issues on my site, and I couldn't for my life figure out what the problem was. Some text paragraphs could suddenly lose their antialiasing, and look very jagged and, yeah, aliased. They would yet get antialiasing again when I scrolled the page up and down, or resized the browser window. Weirdness. Follow the link above for a post on the Posterous blog about the issue. Apparently, WebKit's 3D Transforms were the culprits, since it gives the relevant elements hardware acceleration, and ...">

    <meta property="article:author" content="http://facebook.com/johanbrook">
    <meta property="article:tag" content="3D,Antialiasing,CSS,Jagged,Text,WebKit Transform">
    <meta property="article:published_time" content="2011-05-20T01:01:00.000Z">

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-4471592-8', 'auto');
      ga('send', 'pageview');

    </script>
  </head>

  <body>

    <nav role="navigation">
      <ul class="navigation__primary">
        <li class=""><a href="/">Home</a></li>
        <li class="" ><a href="/now">Now</a></li>
        <li class=""><a href="/writings">Writings</a></li>
        <li class="" ><a href="/about">About me</a></li>
      </ul>

      <ul class="navigation__secondary">
        <li><a href="http://twitter.com/johanbrook">@johanbrook</a></li>
        <li><a title="Oh, you don't have your personal API yet?" href="/meta.json">API</a></li>
      </ul>
    </nav>

    <main role="main">
  <article role="article" class="linked" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
        <h1 itemprop="name"><a title="http://technology.posterous.com/webkit-hardware-acceleration-bleeding-into-su" href="http://technology.posterous.com/webkit-hardware-acceleration-bleeding-into-su">A fix for antialiasing issues in WebKit browsers →</a></h1>

      <p class="post__meta">
        <time datetime="2011-05-20T01:01:00.000Z" itemprop="datePublished" title="5 years ago" pubdate>May 19, 2011</time>
      </p>
    </header>

    <div class="post-text" itemprop="articleBody">
      <p><abbr>CSS</abbr> Transforms, Transitions and Animations are great and all, but apparently they are causing issues with some text on a page. I&#39;ve experienced those issues on my site, and I couldn&#39;t for my life figure out what the problem was. Some text paragraphs could suddenly lose their antialiasing, and look very jagged and, yeah, aliased. They would yet get antialiasing again when I scrolled the page up and down, or resized the browser window. Weirdness. Follow the link above for a post on the Posterous blog about the issue. Apparently, WebKit&#39;s 3D Transforms were the culprits, since it gives the relevant elements hardware acceleration, and …</p>
<blockquote>
<p>When an element gets hardware accelerated in Webkit, sub-pixel anti-aliasing no longer works.</p>
</blockquote>
<h2 id="fix">Fix</h2>
<p>How to fix? Play around with the 3D Transforms on the page, or remove any <code>position: relative;</code> on parent elements. Webkit removes antialiasing on text while animating (which is a huge gain in performance), and somehow relative positioning screws things up. Better: recent WebKit nightly builds fix this issue, so I guess I have to play the waiting game.</p>

    </div>
  </article>
</main>

<footer role="contentinfo">
  <h2>Hi friend.</h2>

  <p>I'm Johan – a twenty-something developer and designer, currently traveling the world.</p>

  <p>I like building interfaces for humans, authentic experiences, and playing guitar. I like other things too.</p>

  <p>You'll find more posts under <a href="/writings">writings</a>, and you can also read <a href="/about">more about me</a> and <a href="/now">what I'm doing now</a>.</p>
</footer>


    <script type="text/javascript">
      function init() {
        addClasses();

        function first(array, n, guard) {
          if (array == null) return void 0;
          if (n == null || guard) return array[0];

          return [].slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));
        };

        function transform(text) {
          const DELIMITER = /\.|,/;
          const sentences = text.split('.');
          const index = text.search(DELIMITER);
          const MAX_WORDS = 6;

          function wrap(w, t) {
            return `<strong>${w}</strong> ${t}`;
          }

          if (index > -1 && index <= 50) {
            return wrap(text.split(DELIMITER)[0], text.substring(index));
          }

          const words = text.split(' ');
          const first = words.splice(0, MAX_WORDS);

          return wrap(first.join(' '), words.join(' '));
        };

        const paragraphs = document.querySelectorAll('.posts article .post-text p');

        [].slice.call(paragraphs).forEach(function(p) {
          if (p.firstChild && (!p.firstChild.tagName || p.firstChild.tagName !== 'STRONG')) {
            const newContent = transform(p.innerText);
            p.innerHTML = newContent;
          }
        });
      };

      function addClasses() {
        const p = document.querySelectorAll('.post article .post-text p');
        p.length > 0 && p[0].classList.add('ingress');

      };

      document.addEventListener('DOMContentLoaded', init, false);
    </script>
  </body>

</html>
